<Window x:Class="xoyplot_zjk.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:xoyplot_zjk"      
         xmlns:oxy="http://oxyplot.org/wpf"
        mc:Ignorable="d"      
        Closed="window_close_click"
        Title="迈测激光" Height="450" Width="900
        ">

    <Grid Height="421" Margin="0" VerticalAlignment="Top">
        <TabControl Margin="0,0,0,2">
            <TabItem Header="显示" FontSize="18">
                <Grid Background="#FFF1F1F1" Margin="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="132*"/>
                        <ColumnDefinition Width="311*"/>
                    </Grid.ColumnDefinitions>

                    <GroupBox Header="曲线" Height="384" Margin="1,0,-6,0" VerticalAlignment="Top" BorderBrush="#FF5C7787" Grid.Column="1">
                        <Grid Margin="0">
                            <oxy:Plot InvalidateFlag="{Binding Refresh}" Margin="0,1,0,0" Background="White">
                                <oxy:Plot.Axes>
                                    <oxy:LinearAxis Title="Distance" Unit="cm" MaximumPadding="0.1" MinimumPadding="0.1" MinorStep="5" Position="Left" MinimumRange="5"/>
                                    <oxy:LinearAxis  MaximumRange="20"  Minimum="{Binding lk_Minimum}" x:Name="lk_yaxi"  Position="Bottom"  />
                                </oxy:Plot.Axes>
                                <oxy:LineSeries MarkerFill="Green" MarkerType="Circle" Title="距离" DataFieldX="Time"
                                      DataFieldY="Distance" LabelFormatString="{}{1:N0}"                  
                                      ItemsSource="{Binding Measurements}"
                                      StrokeThickness="2" Color="SkyBlue" />
                                <oxy:LineSeries Title="信号" MarkerFill="Green" MarkerType="Circle" DataFieldY="Sighal" Color="Red"  DataFieldX="Time"
                                LabelFormatString="{}{1:N0}" ItemsSource="{Binding Measurements}" 
                                />
                            </oxy:Plot>
                        </Grid>
                    </GroupBox>
                    <TextBlock HorizontalAlignment="Left" Margin="2,6,0,0" TextWrapping="Wrap" Text="提示：标定都使用黑板标定" VerticalAlignment="Top" Height="40" Width="136" FontSize="10" Foreground="#FFE08282"/>
                    <Button Content="开始" Click="btn_start" HorizontalAlignment="Left" Margin="34,58,0,0" VerticalAlignment="Top" Width="75" Height="27"/>
                    <Button Content="停止" Click="btn_stop" HorizontalAlignment="Left" Margin="163,58,0,0" VerticalAlignment="Top" Width="75" Height="27"/>
                    <Button Content="开始标定" x:Name="btn_stand" Click="Btn_Clicked_Stand" HorizontalAlignment="Left" Margin="16,226,0,0" VerticalAlignment="Top" Width="75" Height="27"/>
                    <Label Content="标定距离(m)：" Name="label_first" HorizontalAlignment="Left" Margin="13,124,0,0" VerticalAlignment="Top" FontSize="18" Height="33" Width="158"/>
                    <Slider  HorizontalAlignment="Left" ValueChanged="slider_value_change" TickFrequency="1"  Maximum="100" IsSnapToTickEnabled="True" x:Name="stand_slider" Margin="18,164,0,0" VerticalAlignment="Top" Height="16" Width="220"/>
                    <TextBlock HorizontalAlignment="Left" Text="{Binding Value, ElementName=stand_slider}" Margin="177,131,0,0" TextWrapping="Wrap"  VerticalAlignment="Top" FontSize="20" Width="26" RenderTransformOrigin="-1.382,0.702" Foreground="#FF298BF2" Height="25"/>
                    <Button Content="获取标定参数" Click="Btn_Clicked_getStandParam" HorizontalAlignment="Left" Margin="95,189,0,0" VerticalAlignment="Top" Width="75"/>
                    <TabControl TabStripPlacement="Left" Margin="0,274,0,0" Height="110" VerticalAlignment="Top">
                        <TabItem Header="1档">
                            <Grid Background="#FFE5E5E5">
                                <Label Content="校准值:" HorizontalAlignment="Left" Margin="60,5,0,0" VerticalAlignment="Top" Height="26" Width="51" RenderTransformOrigin="0.843,0.385" FontSize="12"/>
                                <TextBox Height="26" x:Name="textBox_calibration" Margin="115,3,5,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="16"/>
                                <TextBox Height="26" x:Name="textBox_average" Margin="115,39,5,0" TextWrapping="Wrap"  VerticalAlignment="Top" FontSize="16" />
                                <Label Content="平均值:" HorizontalAlignment="Left" Margin="60,41,0,0" VerticalAlignment="Top" Height="25" Width="49" RenderTransformOrigin="0.347,-4.8" FontSize="12"/>
                                <TextBox Height="26" x:Name="textBox_gain" Margin="115,72,5,0" TextWrapping="Wrap"  VerticalAlignment="Top" FontSize="16" />
                                <Label Content="增益值:" HorizontalAlignment="Left" Margin="60,72,0,0" VerticalAlignment="Top" Height="24" Width="49" FontSize="12" RenderTransformOrigin="1.224,0.25"/>
                                <Button Content="切换" Name="btn_first_switch" Click="Btn_first_click" HorizontalAlignment="Left" Margin="7,37,0,0" VerticalAlignment="Top" Width="47"/>
                            </Grid>
                        </TabItem>
                        <TabItem Header="2档">
                            <Grid Background="#FFE5E5E5">
                                <Label Content="校准值:" HorizontalAlignment="Left" Margin="60,5,0,0" VerticalAlignment="Top" Height="26" Width="51" RenderTransformOrigin="0.843,0.385" FontSize="12"/>
                                <TextBox Height="26" x:Name="textBox_calibration_Copy" Margin="115,3,5,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="16"/>
                                <TextBox Height="26" x:Name="textBox_average_Copy" Margin="115,39,5,0" TextWrapping="Wrap"  VerticalAlignment="Top" FontSize="16" />
                                <Label Content="平均值:" HorizontalAlignment="Left" Margin="60,41,0,0" VerticalAlignment="Top" Height="25" Width="49" RenderTransformOrigin="0.347,-4.8" FontSize="12"/>
                                <TextBox Height="26" x:Name="textBox_gain_Copy" Margin="115,72,5,0" TextWrapping="Wrap"  VerticalAlignment="Top" FontSize="16" />
                                <Label Content="增益值:" HorizontalAlignment="Left" Margin="60,72,0,0" VerticalAlignment="Top" Height="24" Width="49" FontSize="12" RenderTransformOrigin="1.224,0.25"/>
                                <Button Content="切换" Name="btn_second_switch" Click="Btn_second_click" HorizontalAlignment="Left" Margin="7,37,0,0" VerticalAlignment="Top" Width="47"/>
                            </Grid>
                        </TabItem>
                        <TabItem Header="3档">
                            <Grid Background="#FFE5E5E5">
                                <Label Content="校准值:" HorizontalAlignment="Left" Margin="60,5,0,0" VerticalAlignment="Top" Height="26" Width="51" RenderTransformOrigin="0.843,0.385" FontSize="12"/>
                                <TextBox Height="26" x:Name="textBox_calibration_Copy1" Margin="115,3,5,0" TextWrapping="Wrap" VerticalAlignment="Top" FontSize="16"/>
                                <TextBox Height="26" x:Name="textBox_average_Copy1" Margin="115,39,5,0" TextWrapping="Wrap"  VerticalAlignment="Top" FontSize="16" />
                                <Label Content="平均值:" HorizontalAlignment="Left" Margin="60,41,0,0" VerticalAlignment="Top" Height="25" Width="49" RenderTransformOrigin="0.347,-4.8" FontSize="12"/>
                                <TextBox Height="26" x:Name="textBox_gain_Copy1" Margin="115,72,5,0" TextWrapping="Wrap"  VerticalAlignment="Top" FontSize="16" />
                                <Label Content="增益值:" HorizontalAlignment="Left" Margin="60,72,0,0" VerticalAlignment="Top" Height="24" Width="49" FontSize="12" RenderTransformOrigin="1.224,0.25"/>
                                <Button Content="切换" Name="btn_third_switch" Click="Btn_third_click" HorizontalAlignment="Left" Margin="7,37,0,0" VerticalAlignment="Top" Width="47"/>
                            </Grid>
                        </TabItem>
                    </TabControl>
                    <Button Content="保存标定参数" Click="Btn_Clicked_saveParam" HorizontalAlignment="Left" Margin="176,227,0,0" VerticalAlignment="Top" Width="75" Height="27"/>
                </Grid>
            </TabItem>
            <TabItem Header="设置" FontSize="18">
                <Grid >

                </Grid>
            </TabItem>

        </TabControl>
        <Button Click="btn_serial_connect" Name="btn_connect" Content="连接" HorizontalAlignment="Left" Margin="697,5,0,0" VerticalAlignment="Top" Width="68" Height="20"/>
        <ComboBox Name="baud_Selcet" HorizontalAlignment="Left" Margin="124,4,0,0" VerticalAlignment="Top" Width="88" Height="20"/>
        <ComboBox x:Name="Com_Selcet" HorizontalAlignment="Left" Margin="518,5,0,0" VerticalAlignment="Top" Width="158" Height="20"/>
    </Grid>
</Window>
